<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
   <script src="../file/jquery-3.2.1.min.js"></script>
    <title>data</title>
</head>
<style>
    body{padding: 0;margin: 0;}
    .clear{clear: both}
    .page-info{float: left;}
    .page-operate{float: right;}
    table{width:100%;}
    td,th{border-right:1px solid #ccc;border-bottom:1px solid #ccc;text-align: center;}
    td{font-family: "Microsoft YaHei UI";font-size: 14px;}
    tbody tr:hover{background-color: #dddddd;}
    tr>th:last-child,tr>td:last-child{border-right: 0;}
    th{background: #d9dee2;}
    tbody{background-color: #ffffff;}
    .rgrid{height:900px;border:1px solid #ccc;}
    .rgrid-pages{margin-top: 1em;}
    a{color:#000;text-decoration: none;}
    .page-operate>a{display: inline-block;margin:0.25em;padding:0.5em 1em;border:1px solid #ccc;border-radius:4px;font-size: small;}
</style>
<body>
<div class="contain">
    <div class="rgrid">
        <table border="0" cellpadding="5px" cellspacing="0">
            <thead>
            <tr>
                <th><input type="checkbox"></th>
                <th>标签</th>
                <th>点名</th>
                <th>测点类型</th>
                <th>当前值</th>
                <th>单位</th>
                <th>更新时间</th>
            </tr>
            </thead>
            <tbody id="tbl-tbody"></tbody>
        </table>
    </div>
    <div class="rgrid-pages">
        <div class="page-info">
            <span>共</span>
            <span class="total-rows">0</span>
            <span>行</span>
            <span>每页</span>
            <input class="page-rows" type="text" value="28" onchange="init_page_btn._init_pagerow(this)">
            <span>行</span>
            <span>第</span>
            <input class="current-page" type="text" value="1"  onchange="init_page_btn._init_currentPage(this)">/
            <span class="total-page">1</span>
            <span>页</span>
        </div>
        <div class="page-operate">
            <a href="javascript:void(0)" onclick="init_page_btn._init_currentPage_number('first')">首页</a>
            <a href="javascript:void(0)" onclick="init_page_btn._init_currentPage_number('prev')">上一页</a>
            <a href="javascript:void(0)" onclick="init_page_btn._init_currentPage_number('next')">下一页</a>
            <a href="javascript:void(0)" onclick="init_page_btn._init_currentPage_number('last')">尾页</a>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
    var global_tbl=[
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
        {Englishname:"HA.FZ01.HL01.MXDY",chinesename:"1#系统HL1：汇流箱母线电压",inputname:"输入模拟量",number:724.00,unit:"V",time:"2017-04-27 06:45:18"},
    ];

    $(function () {
        init_table._init();
        init_select_table();
        init_select();
    });

    //初始化表格
    var init_table={
        _init:function () {
            var totalRows=global_tbl.length;        //总行数
            var pageRows=parseInt($(".page-rows").val());     //每页行数
            var totalPage=Math.ceil(totalRows/pageRows);  //总页数
            var currentPage=parseInt($(".current-page").val());   //当前页数
            $(".total-rows").text(totalRows);                 //重新赋值总行数
            $(".total-page").text(totalPage);               //重新赋值总页数
            var startNum=(currentPage-1)*pageRows;          //起始位置
            var endNum=(currentPage-1)*pageRows+pageRows-1; //结束位置
            if(endNum>totalRows-1)endNum=totalRows-1;       //最后一页若是大于总页数，默认为总页数
            var _html="";
            for(var i=startNum;i<endNum+1;i++){             //循环取得当前页数据，数组中从startNum到endNum
                _html+="<tr><td><input type=checkbox></td>";
                $.each(global_tbl[i],function (t, tdata) {
                    var val=tdata;
                    _html+="<td>"+tdata+"</td>"
                });
                _html+="</tr>"
            }
            $("#tbl-tbody").html(_html);                    //获得_html赋值给tbody
        }
    };

    //分页操作
    var init_page_btn={
        _init_currentPage:function (_this) {
            var currentPage=parseInt($(_this).val());           //当前页数
            var totalPage=parseInt($(".total-page").val());     //总页数
            if(currentPage<1)currentPage=1;                     //当前页数不能小于1
            if(currentPage>totalPage)currentPage=totalPage;     //当前页数不能大于总页数
            $(_this).val(currentPage);                          //将调整后的当前页赋值给页面，避免输入不规范，如小数或小于0，大于总页数。
            init_table._init();                                 //初始化表格
        },
        _init_pagerow:function (_this) {
            var pageRows=parseInt($(_this).val());              //当前每页行数
            var totalRows=parseInt($(".total-rows").val());     //总行数
            var currentPage=parseInt($(".current-page").val()); //当前页
            if(pageRows<1)pageRows=1;                           //当前每页行数不能小于1
            var totalPages=Math.ceil(totalRows/pageRows);       //计算总页数
            if(currentPage>totalPages)currentPage=1;            //当前页是否大于总页数
            $(_this).val(pageRows);                             //将当前每页行数重新赋值给页面
            $(".current-page").val(currentPage);                //将当前页数重新赋值给页面
            $(".total-rows").text(totalPages);                  //将当前总页数重新赋值给页面
            init_table._init();                                 //初始化表格
        },
        _init_currentPage_number:function (type) {
            var currentPage=parseInt($(".current-page").val());  //当前页
            var totalPage=parseInt($(".total-page").text());     //总页数
            switch (type){
                case "first":
                    currentPage=1;                               //首页，即第1页
                    break;
                case "prev":
                    currentPage=(currentPage-1)?currentPage-1:1; //上一页，小于1时默认为第1页
                    break;
                case "next":
                    currentPage=(currentPage+1)>totalPage?totalPage:currentPage+1;  //下一页，大于总页数时，默认为总页数
                    break;
                case "last":
                    currentPage=totalPage;                          //末页
                    break;
                default:
                    break;
            }
            $(".current-page").val(currentPage);                    //重新赋值当前页
            init_table._init();                                     //初始化表格
        }
    };
    function init_select_table(){
        $("thead input").on("click",function () {
            var check = $(this).prop("checked");
            $("tbody input").prop("checked",check);
        });
    }
    function init_select() {
        $("tbody>tr>td>input").on("click",function () {
            var len = $("tbody>tr>td>input").prop("checked",true).length;
            console.log(len)
            if(len==$("tbody input").length){
                $("thead input").prop("checked",true);
            }else {
                $("thead input").prop("checked",false);
            }
        });
    }
</script>
</body>
</html>